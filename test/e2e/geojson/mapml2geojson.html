<!DOCTYPE html>
<html lang="en">

<head>
  <title>MapML 2 geoJSON</title>
  <meta charset="UTF-8">
  <script type="module" src="mapml-viewer.js"></script>
  <script src="lib/geojson.js"></script>
</head>

<body>
    <mapml-viewer projection="OSMTILE" zoom="10" lon="-75.7" lat="45.4" controls>
        
      <layer- label="Point Geometry" checked>
          <map-meta name="projection" content="OSMTILE"></map-meta>
          <map-feature>
            <map-featurecaption>Point</map-featurecaption>
            <!-- Setting the geometry coordinates to gcrs, as the default is pcrs -->
            <map-geometry cs="gcrs">
              <map-point class="point">
                <map-coordinates>-75.6916809 45.4186964</map-coordinates>
              </map-point>
            </map-geometry>
            <map-properties><h2>This is a Point</h2></map-properties>
          </map-feature>
        </layer->

        <layer- label="Line Geometry" checked>
          <map-meta name="projection" content="OSMTILE"></map-meta>
          <map-feature>
            <map-featurecaption>Line</map-featurecaption>
            <!-- Setting the geometry coordinates to gcrs, as the default is pcrs -->
            <map-geometry cs="gcrs">
              <map-linestring class="line">
                <map-coordinates>-75.6168365 45.471929 -75.6855011 45.458445 -75.7016373 45.4391764 -75.7030106 45.4259255 -75.7236099 45.4208652 -75.7565689 45.4117074 -75.7833481 45.384225 -75.8197403 45.3714435 -75.8516693 45.377714</map-coordinates>
              </map-linestring>
            </map-geometry>
            <map-properties><h2>This is a Line</h2></map-properties>
          </map-feature>
        </layer->

        <layer- label="Polygon Geometry" checked>
          <map-meta name="projection" content="OSMTILE"></map-meta>
          <map-feature>
            <map-featurecaption>Polygon</map-featurecaption>
            <!-- Setting the geometry coordinates to gcrs, as the default is pcrs -->
            <map-geometry cs="gcrs">
              <map-polygon class="polygon">
                <map-coordinates>-75.5859375 45.4656690 -75.6813812 45.4533876 -75.6961441 45.4239978 -75.7249832 45.4083331 -75.7792282 45.3772317 -75.7534790 45.3294614 -75.5831909 45.3815724 -75.6024170 45.4273712 -75.5673981 45.4639834 -75.5859375 45.4656690</map-coordinates>
                <map-coordinates>-75.6596588 45.4211062 -75.6338958 45.4254436 -75.6277127 45.4066458 -75.6572542 45.4097792 -75.6596588 45.4211062</map-coordinates>
              </map-polygon>
            </map-geometry>
            <map-properties><h2>This is a Polygon</h2></map-properties>
          </map-feature>
        </layer->

        <layer- label="MultiPoint Geometry" checked>
          <map-meta name="projection" content="OSMTILE"></map-meta>
          <map-feature>
            <map-featurecaption>MultiPoint</map-featurecaption>
            <!-- Setting the geometry coordinates to gcrs, as the default is pcrs -->
            <map-geometry cs="gcrs">
              <map-multipoint class="point">
                <map-coordinates>-75.7016373 45.4391764 -75.7236099 45.4208652 -75.7833481 45.384225</map-coordinates>
              </map-multipoint>
            </map-geometry>
            <map-properties><h2>This is a multipoint</h2></map-properties>
          </map-feature>
        </layer->

        <layer- label="MultiLineString Geometry" checked>
          <map-meta name="projection" content="OSMTILE"></map-meta>
          <map-feature>
            <map-featurecaption>MultiLineString</map-featurecaption>
            <!-- Setting the geometry coordinates to gcrs, as the default is pcrs -->
            <map-geometry cs="gcrs">
              <map-multilinestring class="line">
                <map-coordinates>-75.6168365 45.471929 -75.6855011 45.458445 -75.7016373 45.4391764 -75.7030106 45.4259255</map-coordinates>
                <map-coordinates>-75.7565689 45.4117074 -75.7833481 45.384225 -75.8197403 45.3714435 -75.8516693 45.377714</map-coordinates>
              </map-multilinestring>
            </map-geometry>
            <map-properties><h2>This is a MultiLineString</h2></map-properties>
          </map-feature>
        </layer->

        <layer- label="MultiPolygon Geometry" checked>
          <map-meta name="projection" content="OSMTILE"></map-meta>
          <map-feature>
            <map-featurecaption>MultiPolygon</map-featurecaption>
            <!-- Setting the geometry coordinates to gcrs, as the default is pcrs -->
            <map-geometry cs="gcrs">
              <map-multipolygon class="polygon">
                <map-polygon>
                  <map-coordinates>-75.5859375 45.4656690 -75.6813812 45.4533876 -75.6961441 45.4239978 -75.7249832 45.4083331 -75.7792282 45.3772317 -75.7534790 45.3294614 -75.5831909 45.3815724 -75.6024170 45.4273712 -75.5673981 45.4639834 -75.5859375 45.4656690</map-coordinates>
                </map-polygon>
                <map-polygon>
                  <map-coordinates>-75.6744295 45.4728920 -75.7053451 45.4439942 -75.7063756 45.4249616 -75.7489704 45.4177324 -75.7788555 45.4003785 -75.7943133 45.4321899 -75.6744295 45.4728920</map-coordinates>
                </map-polygon>
              </map-multipolygon>
            </map-geometry>
            <map-properties><h2>This is a MultiPolygon</h2></map-properties>
          </map-feature>
        </layer->






        <layer- label="Test MapML" checked>
          <map-meta name="projection" content="OSMTILE"></map-meta>
          <map-feature>
            <map-featurecaption>Polygon</map-featurecaption>
            <!-- Setting the geometry coordinates to gcrs, as the default is pcrs -->
            <map-geometry cs="gcrs">
              <map-polygon class="polygon">
                <map-coordinates>-75.5859375 45.4656690 -75.6813812 45.4533876 -75.6961441 45.4239978 -75.7249832 45.4083331 -75.7792282 45.3772317 -75.7534790 45.3294614 -75.5831909 45.3815724 -75.6024170 45.4273712 -75.5673981 45.4639834 -75.5859375 45.4656690</map-coordinates>
              </map-polygon>
            </map-geometry>
            <map-properties id="properties"><table><thead><tr><th role="columnheader" scope="col">Property name</th><th role="columnheader" scope="col">Property value</th></tr></thead><tbody><tr><th scope="row">id</th><td itemprop="id">24e21a60be4811d892e2080020a0f4c9</td></tr><tr><th scope="row">label_fr</th><td itemprop="label_fr">Québec</td></tr><tr><th scope="row">label_en</th><td itemprop="label_en">Québec</td></tr><tr><th scope="row">label_ab</th><td itemprop="label_ab">Québec</td></tr><tr><th scope="row">type_fr</th><td itemprop="type_fr">CITY-Ville</td></tr><tr><th scope="row">type_en</th><td itemprop="type_en">CITY-City</td></tr></tbody></table></map-properties>
          </map-feature>
      
          <map-feature>
            <map-featurecaption>Line</map-featurecaption>
            <!-- Setting the geometry coordinates to gcrs, as the default is pcrs -->
            <map-geometry cs="gcrs">
              <map-linestring class="line">
                <map-coordinates>-75.6168365 45.471929 -75.6855011 45.458445 -75.7016373 45.4391764 -75.7030106 45.4259255 -75.7236099 45.4208652 -75.7565689 45.4117074 -75.7833481 45.384225 -75.8197403 45.3714435 -75.8516693 45.377714</map-coordinates>
              </map-linestring>
            </map-geometry>
            <map-properties><h2>This is a Line</h2></map-properties>
          </map-feature>
      
          <map-feature>
            <map-featurecaption>Point</map-featurecaption>
            <!-- Setting the geometry coordinates to gcrs, as the default is pcrs -->
            <map-geometry cs="gcrs">
              <map-point class="point">
                <map-coordinates>-75.6916809 45.4186964</map-coordinates>
              </map-point>
            </map-geometry>
            <map-properties><h2>This is a Point</h2></map-properties>
          </map-feature>

          <map-feature>
            <map-featurecaption>MultiPoint</map-featurecaption>
            <!-- Setting the geometry coordinates to gcrs, as the default is pcrs -->
            <map-geometry cs="gcrs">
              <map-multipoint class="point">
                <map-coordinates>-75.7016373 45.4391764 -75.7236099 45.4208652 -75.7833481 45.384225</map-coordinates>
              </map-multipoint>
            </map-geometry>
            <map-properties><h2>This is a multipoint</h2></map-properties>
          </map-feature>

          <map-feature>
            <map-featurecaption>MultiLineString</map-featurecaption>
            <!-- Setting the geometry coordinates to gcrs, as the default is pcrs -->
            <map-geometry cs="gcrs">
              <map-multilinestring class="line">
                <map-coordinates>-75.6168365 45.471929 -75.6855011 45.458445 -75.7016373 45.4391764 -75.7030106 45.4259255</map-coordinates>
                <map-coordinates>-75.7565689 45.4117074 -75.7833481 45.384225 -75.8197403 45.3714435 -75.8516693 45.377714</map-coordinates>
              </map-multilinestring>
            </map-geometry>
            <map-properties><h2>This is a MultiLineString</h2></map-properties>
          </map-feature>

          <map-feature>
            <map-featurecaption>MultiPolygon</map-featurecaption>
            <!-- Setting the geometry coordinates to gcrs, as the default is pcrs -->
            <map-geometry cs="gcrs">
              <map-multipolygon class="polygon">
                <map-polygon>
                  <map-coordinates>-75.5859375 45.4656690 -75.6813812 45.4533876 -75.6961441 45.4239978 -75.7249832 45.4083331 -75.7792282 45.3772317 -75.7534790 45.3294614 -75.5831909 45.3815724 -75.6024170 45.4273712 -75.5673981 45.4639834 -75.5859375 45.4656690</map-coordinates>
                </map-polygon>
                <map-polygon>
                  <map-coordinates>-75.6744295 45.4728920 -75.7053451 45.4439942 -75.7063756 45.4249616 -75.7489704 45.4177324 -75.7788555 45.4003785 -75.7943133 45.4321899 -75.6744295 45.4728920</map-coordinates>
                  <map-coordinates>-75.6744295 45.4728920 -75.7053451 45.4439942 -75.7063756 45.4249616 -75.7489704 45.4177324 -75.7788555 45.4003785 -75.7943133 45.4321899 -75.6744295 45.4728920</map-coordinates>
                </map-polygon>
              </map-multipolygon>
            </map-geometry>
            <map-properties><h2>This is a MultiPolygon</h2></map-properties>
          </map-feature>

          <map-feature>
            <map-featurecaption>Polygon with holes</map-featurecaption>
            <!-- Setting the geometry coordinates to gcrs, as the default is pcrs -->
            <map-geometry cs="gcrs">
              <map-polygon>
                <map-coordinates>-75.5859375 45.4656690 -75.6813812 45.4533876 -75.6961441 45.4239978 -75.7249832 45.4083331 -75.7792282 45.3772317 -75.7534790 45.3294614 -75.5831909 45.3815724 -75.6024170 45.4273712 -75.5673981 45.4639834 -75.5859375 45.4656690</map-coordinates>
                <map-coordinates><map-span class="hole">-75.6467062 45.4215881 -75.6889363 45.4049585 -75.6693647 45.3767494 -75.6270640 45.3924229 -75.6467062 45.4215881</map-span></map-coordinates>
              </map-polygon>
            </map-geometry>
            <map-properties><h2>This is a Polygon with holes</h2></map-properties>
          </map-feature>
        </layer->
      </mapml-viewer>

      <p id="json0"></p>
      <p id="json1"></p>
      <p id="json2"></p>
      <p id="json3"></p>
      <p id="json4"></p>
      <p id="json5"></p>
      <p id="json6"></p>

      <script>
        window.onload = function() {
            let json;

            json = mapml2geojson(document.querySelectorAll("layer-")[0]);
            json = JSON.stringify(json);
            document.getElementById('json0').innerHTML = json;

            json = mapml2geojson(document.querySelectorAll("layer-")[1]);
            json = JSON.stringify(json);
            document.getElementById('json1').innerHTML = json;

            json = mapml2geojson(document.querySelectorAll("layer-")[2]);
            json = JSON.stringify(json);
            document.getElementById('json2').innerHTML = json;
            
            json = mapml2geojson(document.querySelectorAll("layer-")[3]);
            json = JSON.stringify(json);
            document.getElementById('json3').innerHTML = json;

            json = mapml2geojson(document.querySelectorAll("layer-")[4]);
            json = JSON.stringify(json);
            document.getElementById('json4').innerHTML = json;

            json = mapml2geojson(document.querySelectorAll("layer-")[5]);
            json = JSON.stringify(json);
            document.getElementById('json5').innerHTML = json;

            json = mapml2geojson(document.querySelectorAll("layer-")[6]);
            json = JSON.stringify(json);
            document.getElementById('json6').innerHTML = json;
        };
      </script>
    
</body>

</html>