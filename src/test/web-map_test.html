<!doctype html>
<html>
  <head>
    <title>web-map test</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">
    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
    <script src="../../web-component-tester/browser.js"></script>

    <link rel="import" href="../web-map.html">
  </head>
  <body>

    <test-fixture id="empty">
      <template>
        <map is="web-map" zoom="17" lat="45.398043" lon="-75.70683" width="700" height="400" controls>
        </map>
      </template>
    </test-fixture>
    <test-fixture id="layer">
      <template>
        <layer- src="http://geogratis.gc.ca/mapml/osm/" label="Open Street Map" checked hidden></layer>
      </template>
    </test-fixture>

    <script>
      suite('web-map', function() {
        
        var theMap,aLayer;
        setup(function () {
           theMap = fixture('empty');
           
//           aLayer = document.createElement('layer-');
//           aLayer.label = "Open Street Map";
//           aLayer.checked = true;
//           aLayer.hidden = true;
//           aLayer.src  = "http://geogratis.gc.ca/mapml/osm/";
        });
        test('instantiating the element works', function() {
          assert.equal(theMap.is, 'web-map');
        });
        
        test('adding a layer to a map works', function() {
          aLayer = fixture('layer');
          theMap.appendChild(aLayer);
          assert.equal(theMap.childElementCount, theMap.shadowRoot ? 1 : 2);
          
        });
        
        
        

      });
    </script>
  </body>
</html>
